/*! media-credit  filename.min.js 2016-04-12 10:10:00 PM */
!function(a){origAttachmentCompat=wp.media.view.AttachmentCompat,wp.media.view.AttachmentCompat=wp.media.view.AttachmentCompat.extend({save:function(a){var b,c,d,e;_.each(this.$el.serializeArray(),function(a){if(!d){var f=/attachments\[(\d+)\]/gm,g=f.exec(a.name)||["","0"];d=g[1]}c||a.name.match(/attachments\[\d+\]\[media-credit\]/gm)&&(c=a.value),e||a.name.match(/attachments\[\d+\]\[media-credit-url\]/gm)&&(e=a.value),b||a.name.match(/attachments\[\d+\]\[media-credit-hidden\]/gm)&&(b=a.value)});var f=(jQuery("#post_ID").val(),jQuery("#content").val()),g={type:"POST",data:{author_id:b,freeform:c,post_content:f,image_id:d,url:e},success:function(a){var b;f!==a&&(b=tinymce.get("content"),b&&b instanceof tinymce.Editor&&jQuery("#wp-content-wrap").hasClass("tmce-active")?(b.setContent(a),b.save({no_events:!0})):jQuery("textarea#content").val(a))}};wp.media.ajax("media_credit_filter_content",g),origAttachmentCompat.prototype.save.apply(this,a)}})}(jQuery);